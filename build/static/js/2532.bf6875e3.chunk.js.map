{"version":3,"file":"static/js/2532.bf6875e3.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/mat3f64.js","../node_modules/@arcgis/core/chunks/quatf64.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,0,1,0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function t(e,r,t,n,o,a,u,c,f){return[e,r,t,n,o,a,u,c,f]}function n(e,r){return new Float64Array(e,r,9)}const o=Object.freeze(Object.defineProperty({__proto__:null,clone:r,create:e,createView:n,fromValues:t},Symbol.toStringTag,{value:\"Module\"}));export{n as a,r as b,e as c,t as f,o as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nfunction e(){return[0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function t(e,r,t,n){return[e,r,t,n]}function n(e,r){return new Float64Array(e,r,4)}const o=e(),a=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:r,create:e,createView:n,fromValues:t},Symbol.toStringTag,{value:\"Module\"}));export{o as I,e as a,r as b,n as c,t as f,a as q};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import r from\"../../../../renderers/PointCloudClassBreaksRenderer.js\";import t from\"../../../../renderers/PointCloudStretchRenderer.js\";import l from\"../../../../renderers/PointCloudUniqueValueRenderer.js\";import{createGeometryIndexFromSchema as n,createTypedView as s,readBinaryAttribute as i}from\"./I3SBinaryReader.js\";import{decodeXYZ as u}from\"./LEPCC.js\";function f(e,o,n,s){const{rendererJSON:i,isRGBRenderer:u}=e;let f=null,c=null;if(o&&u)f=o;else if(o&&\"pointCloudUniqueValueRenderer\"===i?.type){c=l.fromJSON(i);const e=c.colorUniqueValueInfos;f=new Uint8Array(3*s);const r=b(c.fieldTransformType);for(let t=0;t<s;t++){const l=(r?r(o[t]):o[t])+\"\";for(let o=0;o<e.length;o++)if(e[o].values.includes(l)){f[3*t]=e[o].color.r,f[3*t+1]=e[o].color.g,f[3*t+2]=e[o].color.b;break}}}else if(o&&\"pointCloudStretchRenderer\"===i?.type){c=t.fromJSON(i);const e=c.stops;f=new Uint8Array(3*s);const r=b(c.fieldTransformType);for(let t=0;t<s;t++){const l=r?r(o[t]):o[t],n=e.length-1;if(l<e[0].value)f[3*t]=e[0].color.r,f[3*t+1]=e[0].color.g,f[3*t+2]=e[0].color.b;else if(l>=e[n].value)f[3*t]=e[n].color.r,f[3*t+1]=e[n].color.g,f[3*t+2]=e[n].color.b;else for(let o=1;o<e.length;o++)if(l<e[o].value){const r=(l-e[o-1].value)/(e[o].value-e[o-1].value);f[3*t]=e[o].color.r*r+e[o-1].color.r*(1-r),f[3*t+1]=e[o].color.g*r+e[o-1].color.g*(1-r),f[3*t+2]=e[o].color.b*r+e[o-1].color.b*(1-r);break}}}else if(o&&\"pointCloudClassBreaksRenderer\"===i?.type){c=r.fromJSON(i);const e=c.colorClassBreakInfos;f=new Uint8Array(3*s);const t=b(c.fieldTransformType);for(let r=0;r<s;r++){const l=t?t(o[r]):o[r];for(let o=0;o<e.length;o++)if(l>=e[o].minValue&&l<=e[o].maxValue){f[3*r]=e[o].color.r,f[3*r+1]=e[o].color.g,f[3*r+2]=e[o].color.b;break}}}else{f=new Uint8Array(3*s);for(let e=0;e<f.length;e++)f[e]=255}if(n&&c&&c.colorModulation){const e=c.colorModulation.minValue,o=c.colorModulation.maxValue,r=.3;for(let t=0;t<s;t++){const l=n[t],s=l>=o?1:l<=e?r:r+(1-r)*(l-e)/(o-e);f[3*t]=s*f[3*t],f[3*t+1]=s*f[3*t+1],f[3*t+2]=s*f[3*t+2]}}return f}function c(o,r){if(null==o.encoding||\"\"===o.encoding){const t=n(r,o);if(e(t.vertexAttributes.position))return;const l=s(r,t.vertexAttributes.position),i=t.header.fields,u=[i.offsetX,i.offsetY,i.offsetZ],f=[i.scaleX,i.scaleY,i.scaleZ],c=l.length/3,a=new Float64Array(3*c);for(let e=0;e<c;e++)a[3*e]=l[3*e]*f[0]+u[0],a[3*e+1]=l[3*e+1]*f[1]+u[1],a[3*e+2]=l[3*e+2]*f[2]+u[2];return a}if(\"lepcc-xyz\"===o.encoding)return u(r).result}function a(e,r,t){return o(e)&&e.attributeInfo.useElevation?r?d(r,t):null:o(e)&&e.attributeInfo.storageInfo?i(e.attributeInfo.storageInfo,e.buffer,t):null}function d(e,o){const r=new Float64Array(o);for(let t=0;t<o;t++)r[t]=e[3*t+2];return r}function m(e,o,r,t,l){const n=e.length/3;let s=0;for(let i=0;i<n;i++){let n=!0;for(let e=0;e<t.length&&n;e++){const{filterJSON:o}=t[e],r=l[e].values[i];switch(o.type){case\"pointCloudValueFilter\":{const e=\"exclude\"===o.mode;o.values.includes(r)===e&&(n=!1);break}case\"pointCloudBitfieldFilter\":{const e=p(o.requiredSetBits),t=p(o.requiredClearBits);(r&e)===e&&0==(r&t)||(n=!1);break}case\"pointCloudReturnFilter\":{const e=15&r,t=r>>>4&15,l=t>1,s=1===e,i=e===t;let u=!1;for(const r of o.includedReturns)if(\"last\"===r&&i||\"firstOfMany\"===r&&s&&l||\"lastOfMany\"===r&&i&&l||\"single\"===r&&!l){u=!0;break}u||(n=!1);break}}}n&&(r[s]=i,e[3*s]=e[3*i],e[3*s+1]=e[3*i+1],e[3*s+2]=e[3*i+2],o[3*s]=o[3*i],o[3*s+1]=o[3*i+1],o[3*s+2]=o[3*i+2],s++)}return s}function b(e){return null==e||\"none\"===e?null:\"low-four-bit\"===e?e=>15&e:\"high-four-bit\"===e?e=>(240&e)>>4:\"absolute-value\"===e?e=>Math.abs(e):\"modulo-ten\"===e?e=>e%10:null}function p(e){let o=0;for(const r of e||[])o|=1<<r;return o}export{d as elevationFromPositions,f as evaluateRenderer,m as filterInPlace,a as getAttributeValues,c as readGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/maybe.js\";import{isArrayBuffer as r}from\"../../../core/typedArrayUtil.js\";import{c as e}from\"../../../chunks/quat.js\";import{c as a}from\"../../../chunks/quatf32.js\";import{q as o}from\"../../../chunks/vec3.js\";import{f,c as i}from\"../../../chunks/vec3f32.js\";import{projectBuffer as n}from\"../../../geometry/projection.js\";import s from\"../../../geometry/SpatialReference.js\";import{readGeometry as u,getAttributeValues as l,evaluateRenderer as b,filterInPlace as m}from\"./i3s/PointCloudWorkerUtil.js\";class c{transform(e){const a=this._transform(e),o=[a.points.buffer,a.rgb.buffer];t(a.pointIdFilterMap)&&o.push(a.pointIdFilterMap.buffer);for(const t of a.attributes)\"buffer\"in t.values&&r(t.values.buffer)&&t.values.buffer!==a.rgb.buffer&&o.push(t.values.buffer);return Promise.resolve({result:a,transferList:o})}_transform(r){const e=u(r.schema,r.geometryBuffer);let a=e.length/3,o=null;const f=[],i=l(r.primaryAttributeData,e,a);t(r.primaryAttributeData)&&i&&f.push({attributeInfo:r.primaryAttributeData.attributeInfo,values:i});const n=l(r.modulationAttributeData,e,a);t(r.modulationAttributeData)&&n&&f.push({attributeInfo:r.modulationAttributeData.attributeInfo,values:n});let c=b(r.rendererInfo,i,n,a);if(r.filterInfo&&r.filterInfo.length>0&&t(r.filterAttributesData)){const i=r.filterAttributesData.filter(t).map((t=>{const r=l(t,e,a),o={attributeInfo:t.attributeInfo,values:r};return f.push(o),o}));o=new Uint32Array(a),a=m(e,c,o,r.filterInfo,i)}for(const t of r.userAttributesData){const r=l(t,e,a);f.push({attributeInfo:t.attributeInfo,values:r})}3*a<c.length&&(c=new Uint8Array(c.buffer.slice(0,3*a))),this._applyElevationOffsetInPlace(e,a,r.elevationOffset);const p=this._transformCoordinates(e,a,r.obb,s.fromJSON(r.inSR),s.fromJSON(r.outSR));return{obb:r.obb,points:p,rgb:c,attributes:f,pointIdFilterMap:o}}_transformCoordinates(t,r,a,s,u){if(!n(t,s,0,t,u,0,r))throw new Error(\"Can't reproject\");const l=f(a.center[0],a.center[1],a.center[2]),b=i(),m=i();e(p,a.quaternion);const c=new Float32Array(3*r);for(let e=0;e<r;e++)b[0]=t[3*e]-l[0],b[1]=t[3*e+1]-l[1],b[2]=t[3*e+2]-l[2],o(m,b,p),a.halfSize[0]=Math.max(a.halfSize[0],Math.abs(m[0])),a.halfSize[1]=Math.max(a.halfSize[1],Math.abs(m[1])),a.halfSize[2]=Math.max(a.halfSize[2],Math.abs(m[2])),c[3*e]=b[0],c[3*e+1]=b[1],c[3*e+2]=b[2];return c}_applyElevationOffsetInPlace(t,r,e){if(0!==e)for(let a=0;a<r;a++)t[3*a+2]+=e}}const p=a();function h(){return new c}export{h as default};\n"],"names":["e","t","r","n","o","a","u","c","f","Float64Array","Object","freeze","defineProperty","__proto__","clone","create","createView","fromValues","Symbol","toStringTag","value","IDENTITY","attributeInfo","useElevation","d","storageInfo","i","buffer","m","l","length","s","filterJSON","values","type","mode","includes","p","requiredSetBits","requiredClearBits","_step","_iterator","_createForOfIteratorHelper","includedReturns","done","err","b","Math","abs","_step2","_iterator2","_classCallCheck","_createClass","key","this","_transform","points","rgb","pointIdFilterMap","push","attributes","Promise","resolve","result","transferList","encoding","vertexAttributes","position","header","fields","offsetX","offsetY","offsetZ","scaleX","scaleY","scaleZ","schema","geometryBuffer","primaryAttributeData","modulationAttributeData","rendererJSON","isRGBRenderer","colorUniqueValueInfos","Uint8Array","fieldTransformType","color","g","stops","colorClassBreakInfos","minValue","maxValue","colorModulation","rendererInfo","filterInfo","filterAttributesData","filter","map","Uint32Array","userAttributesData","slice","_applyElevationOffsetInPlace","elevationOffset","_transformCoordinates","obb","inSR","outSR","Error","center","quaternion","Float32Array","halfSize","max","h"],"sourceRoot":""}