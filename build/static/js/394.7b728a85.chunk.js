"use strict";(self.webpackChunkcommonlands_web=self.webpackChunkcommonlands_web||[]).push([[394],{80394:function(e,n,r){r.d(n,{Hq:function(){return J},Mk:function(){return d},P_:function(){return D},Qp:function(){return X},VO:function(){return Z},_D:function(){return E},kZ:function(){return H},kr:function(){return Q},nF:function(){return _},tB:function(){return I},ut:function(){return Y},vF:function(){return $},zD:function(){return G}});var i,a,t=r(74165),o=r(1413),s=r(29439),f=r(15861),u=(r(59486),r(10064)),l=r(92026),c=r(68860),h=r(15075),x=r(79803),p=r(53866),v=r(585),m=r(80885),g=r(78952);function d(e,n,r){return!(0,x.Up)(e,n,r)}function y(e,n,r){var i=d(e,n,r);if(i&&!(0,x.kR)())throw new u.Z("rasterprojectionhelper-project","projection engine is not loaded");return i}(a=i||(i={}))[a.None=0]="None",a[a.North=1]="North",a[a.South=2]="South",a[a.Both=3]="Both";var M=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(1===r[0])return[0,0];for(var a=1,t=-1,o=1,s=-1,f=0;f<e.length;f+=2)isNaN(e[f])||(a=a>e[f]?e[f]:a,t=t>e[f]?t:e[f],o=o>e[f+1]?e[f+1]:o,s=s>e[f+1]?s:e[f+1]);for(var u=n.cols,l=n.rows,c=(t-a)/u/r[0],h=(s-o)/l/r[1],x=2*i,p=0,v=!1,m=[0,0],g=0;g<u-3;g++){for(var d=0;d<l-3;d++){var y=g*l*2+2*d,M=(e[y]+e[y+4]+e[y+4*l]+e[y+4*l+4])/4,w=(e[y+1]+e[y+5]+e[y+4*l+1]+e[y+4*l+5])/4,R=Math.abs((M-e[y+2*l+2])/c),b=Math.abs((w-e[y+2*l+3])/h);if(R+b>p&&(p=R+b,m=[R,b]),x&&p>x){v=!0;break}}if(v)break}return m},w={3395:20037508.342789244,3410:17334193.943686873,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53034:20015086.79602057,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54034:20037508.342789244,54079:20037508.342789244,54080:20037508.342789244,54100:20037508.342789244,54101:20037508.342789244},R=32,b=4,S=b,P=new Map,C=new Map,k=500;function G(){return N.apply(this,arguments)}function N(){return(N=(0,f.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=(0,x.kR)(),e.t0){e.next=4;break}return e.next=4,(0,x.zD)();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,n,r){return y(e.spatialReference,n)?r?(0,x.rS)(n,e.spatialReference,e):(0,x.rS)(e.spatialReference,n,e):null}function Z(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=e.spatialReference;if(a.equals(n))return e;y(a,n,i);var t,o=r.center,s=new p.Z({xmin:o.x-e.x/2,xmax:o.x+e.x/2,ymin:o.y-e.y/2,ymax:o.y+e.y/2,spatialReference:a}),f=(0,x.iV)(s,n,i),u=Y(n);if((0,l.Wi)(f)||(0,l.pC)(u)&&f.width>=u){var h=(0,c.c9)(a)/(0,c.c9)(n);t={x:e.x*h,y:e.y*h}}else t={x:f.width,y:f.height};return t}function T(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01;return(0,c.c9)(e)?n/(0,c.c9)(e):0}function _(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=e.spatialReference;if(a.equals(n))return e;y(a,n,r);var t=(0,x.iV)(e,n,r);return i&&t?(W([e],[t],a,n),t):t}function W(e,n,r,i){var a=V(r,!0),t=V(i,!0),o=T(r,k),s=T(i,k);if(o&&(0,l.pC)(a)&&(0,l.pC)(t))for(var f=0;f<e.length;f++){var u=n[f];if(u){var c=e[f].x,h=u.x;h>=t[1]-s&&Math.abs(c-a[0])<o?u.x-=t[1]-t[0]:h<=t[0]+s&&Math.abs(c-a[1])<o&&(u.x+=t[1]-t[0])}}}function z(e){var n=e.inSR,r=e.outSR,i=e.datumTransformation,a=e.preferPE;if(n.equals(r))return B(e,null).points;if(n.isWebMercator&&r.isWGS84||n.isWGS84&&r.isWebMercator)return function(e){var n=e.cols,r=e.rows,i=e.xres,a=e.yres,t=e.usePixelCenter,o=e.inSR,s=e.outSR,f=e.xmin,u=e.ymax;t&&(f+=i/2,u-=a/2);for(var l=[],c=[],h=Math.max(n,r),p=0;p<h;p++){var m=f+i*Math.min(n,p),g=u-a*Math.min(r,p),d=(0,x.iV)(new v.Z({x:m,y:g,spatialReference:o}),s);p<=n&&l.push(d.x),p<=r&&c.push(d.y)}for(var y=[],M=0;M<n;M++)for(var w=0;w<r;w++)y.push([l[M],c[w]]);return y}(e);if(y(n,r,i)&&a){if(n.isGeographic)return O(e);var t=L(n);if((0,l.pC)(t))return O(e)}return function(e){var n=B(e,null),r=n.points,i=e.inSR,a=e.outSR,t=e.datumTransformation,o=r.map((function(e){return new v.Z(e[0],e[1],i)})),s=(0,x.iV)(o,a,t);return t&&W(o,s,i,a),s.map((function(e){return e?[e.x,e.y]:[NaN,NaN]}))}(e)}function O(e){var n=e.inSR,r=e.outSR,i=e.datumTransformation,a=B(e,L(n)),t=a.points,o=a.mask;if(!n.isGeographic){var f=n.wkid?h.e.coordsys(n.wkid):h.e.fromString(n.isGeographic?h.f.PE_TYPE_GEOGCS:h.f.PE_TYPE_PROJCS,n.wkt);h.g.projToGeog(f,t.length,t)}if((0,l.pC)(i)&&i.steps.length){var u,c=179.9955;if(r.isGeographic&&(u=t.map((function(e){var n=(0,s.Z)(e,1)[0];return n>c?1:n<-c?-1:0}))),i.steps.forEach((function(e){var n=e.wkid?h.e.geogtran(e.wkid):h.e.fromString(h.f.PE_TYPE_GEOGTRAN,e.wkt);h.h.geogToGeog(n,t.length,t,null,e.isInverse?h.f.PE_TRANSFORM_2_TO_1:h.f.PE_TRANSFORM_1_TO_2)})),u)for(var x=0;x<t.length;x++){var p=u[x],v=t[x][0],m=v>c?1:v<-c?-1:0;p&&m&&p!==m&&(t[x][0]=p>0?v+360:v-360)}}if(!r.isGeographic){var g=L(r,!0),d=(0,l.pC)(g)&&g.isEnvelope?[g.bbox[1],g.bbox[3]]:[-90,90];!function(e,n){for(var r=(0,s.Z)(n,2),i=r[0],a=r[1],t=0;t<e.length;t++){var o=e[t][1];(o<i||o>a)&&(e[t]=[NaN,NaN])}}(t,d);var y=r.wkid?h.e.coordsys(r.wkid):h.e.fromString(r.isGeographic?h.f.PE_TYPE_GEOGCS:h.f.PE_TYPE_PROJCS,r.wkt);h.g.geogToProj(y,t.length,t)}var M=t;if(o&&t.length!==o.length){M=[];for(var w=0,R=0;w<o.length;w++)o[w]?M.push(t[R++]):M.push([NaN,NaN])}return M}function L(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.wkid||e.wkt;if(!r||e.isGeographic)return null;if(r=String(r),P.has(r)){var i=P.get(r);return n?null===i||void 0===i?void 0:i.gcs:null===i||void 0===i?void 0:i.pcs}var a=e.wkid?h.e.coordsys(e.wkid):h.e.fromString(e.isGeographic?h.f.PE_TYPE_GEOGCS:h.f.PE_TYPE_PROJCS,e.wkt),t=j(a,T(e,1e-4)),o=j(a,0,!0);return P.set(r,{pcs:t,gcs:o}),n?o:t}function j(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=h.j.generate(e),a=r?e.horizonGcsGenerate():e.horizonPcsGenerate();if(!i||null===a||void 0===a||!a.length)return null;var t=!1,o=a.find((function(e){return 1===e.getInclusive()&&1===e.getKind()}));if(!o){if(o=a.find((function(e){return 1===e.getInclusive()&&0===e.getKind()})),!o)return null;t=!0}var f=r?0:(2===i.getNorthPoleLocation()?1:0)|(2===i.getSouthPoleLocation()?2:0),u=i.isPannableRectangle(),l=o.getCoord();if(t)return{isEnvelope:t,isPannable:u,vertices:l,coef:null,bbox:[l[0][0]-n,l[0][1]-n,l[1][0]+n,l[1][1]+n],poleLocation:f};for(var c=0,x=[],p=(0,s.Z)(l[0],2),v=p[0],m=p[1],g=(0,s.Z)(l[0],2),d=g[0],y=g[1],M=0,w=l.length;M<w;M++){++c===w&&(c=0);var R=(0,s.Z)(l[M],2),b=R[0],S=R[1],P=(0,s.Z)(l[c],2),C=P[0],k=P[1];if(k===S)x.push([b,C,S,k,2]);else{var G=(C-b)/(k-S||1e-4),N=b-G*S;S<k?x.push([G,N,S,k,0]):x.push([G,N,k,S,1])}v=v<b?v:b,m=m<S?m:S,d=d>b?d:b,y=y>S?y:S}return{isEnvelope:!1,isPannable:u,vertices:l,coef:x,bbox:[v,m,d,y],poleLocation:f}}function B(e,n){var r=[],i=e.cols,a=e.rows,t=e.xres,o=e.yres,f=e.usePixelCenter,u=e.xmin,c=e.ymax;if(f&&(u+=t/2,c-=o/2),(0,l.Wi)(n)){for(var h=0;h<i;h++)for(var x=0;x<a;x++)r.push([u+t*h,c-o*x]);return{points:r}}var p=new Uint8Array(i*a);if(n.isEnvelope){for(var v=(0,s.Z)(n.bbox,4),m=v[0],g=v[1],d=v[2],y=v[3],M=0,w=0;M<i;M++)for(var R=u+t*M,b=n.isPannable||R>=m&&R<=d,S=0;S<a;S++,w++){var P=c-o*S;b&&P>=g&&P<=y&&(r.push([R,P]),p[w]=1)}return{points:r,mask:p}}for(var C=n.coef,k=[],G=0;G<a;G++){for(var N=c-o*G,E=[],Z=[],T=0;T<C.length;T++){var _=(0,s.Z)(C[T],5),W=_[0],z=_[1],O=_[2],L=_[3],j=_[4];if(N===O&&O===L)E.push(W),E.push(z),Z.push(2),Z.push(2);else if(N>=O&&N<=L){var B=W*N+z;E.push(B),Z.push(j)}}var F=E;if(E.length>2){var I=2===Z[0]?0:Z[0],A=E[0];F=[];for(var Y=1;Y<Z.length;Y++)2===Z[Y]&&Y!==Z.length-1||(Z[Y]!==I&&(F.push(0===I?Math.min(A,E[Y-1]):Math.max(A,E[Y-1])),I=Z[Y],A=E[Y]),Y===Z.length-1&&F.push(0===Z[Y]?Math.min(A,E[Y]):Math.max(A,E[Y])));F.sort((function(e,n){return e-n}))}else E[0]>E[1]&&(F=[E[1],E[0]]);k.push(F)}for(var V=0,q=0;V<i;V++)for(var J=u+t*V,D=0;D<a;D++,q++){var X=c-o*D,K=k[D];if(2===K.length)J>=K[0]&&J<=K[1]&&(r.push([J,X]),p[q]=1);else if(K.length>2){for(var U=!1,H=0;H<K.length;H+=2)if(J>=K[H]&&J<=K[H+1]){U=!0;break}U&&(r.push([J,X]),p[q]=1)}}return{points:r,mask:p}}function F(e){var n=Y(e[0].spatialReference);if(e.length<2||(0,l.Wi)(n))return e[0];for(var r=e[0],i=r.xmin,a=r.xmax,t=r.ymin,o=r.ymax,s=1;s<e.length;s++){var f=e[s];a=f.xmax+n*s,t=Math.min(t,f.ymin),o=Math.max(o,f.ymax)}return new p.Z({xmin:i,xmax:a,ymin:t,ymax:o,spatialReference:e[0].spatialReference})}function I(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],t=e.spatialReference;if(t.equals(n))return e;var o=J(e),s=Y(t,!0),f=Y(n);if(0===o||(0,l.Wi)(s)||(0,l.Wi)(f)){var u=A(e,n,r,a);if((0,l.Wi)(s)&&(0,l.pC)(f)&&Math.abs(u.width-f)<T(n)&&(0,x.kR)()){var c=L(t);if((0,l.pC)(c)&&c.poleLocation===i.None&&e.width<(c.bbox[2]-c.bbox[0])/2)return function(e,n){var r=Y(n);if((0,l.Wi)(r))return null;var i=e.xmin,a=e.ymin,t=e.xmax,o=e.ymax,s=e.spatialReference,f=new m.Z({spatialReference:s,rings:[[[i,a],[t,a],[t,o],[i,o],[i,a]]]}),u=(0,x.iV)(f,n);if(2!==u.rings.length||!u.rings[0].length||!u.rings[1].length)return null;for(var c=u.rings,h=T(s),v=new p.Z({spatialReference:n}),g=0;g<2;g++){i=t=c[g][0][0],a=o=c[g][0][1];for(var d=0;d<c[g].length;d++)i=i>c[g][d][0]?c[g][d][0]:i,t=t<c[g][d][0]?c[g][d][0]:t,a=a>c[g][d][1]?c[g][d][1]:a,o=o<c[g][d][1]?c[g][d][1]:o;if(0===g)v.ymin=a,v.ymax=o,v.xmin=i,v.xmax=t;else if(v.ymin=Math.min(v.ymin,a),v.ymax=Math.max(v.ymax,o),Math.abs(t-r/2)<h)v.xmin=i,v.xmax=v.xmax+r;else{if(!(Math.abs(i+r/2)<h))return null;v.xmax=t+r}}return v}(e,n)||u}return u}var h=e.clone().normalize();if(1===h.length&&e.xmax<s&&e.xmax-s/2>T(t))for(var v=e.xmin,g=e.xmax,d=0;d<=o;d++){var y=0===d?v:-s/2,M=d===o?g-s*d:s/2;h[d]=new p.Z({xmin:y,xmax:M,ymin:e.ymin,ymax:e.ymax,spatialReference:t})}return F(h.map((function(e){return A(e,n,r,a)})).filter(l.pC))}function A(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],t=e.spatialReference;if(t.equals(n)||!n)return e;y(t,n,r);var o=(0,x.iV)(e,n,r);if(a&&n.isWebMercator&&o&&(o.ymax=Math.min(20037508.342787,o.ymax),o.ymin=Math.max(-20037508.342787,o.ymin),o.ymin>=o.ymax))return null;if(!i||!o)return o;var s=V(t,!0),f=V(n,!0);if((0,l.Wi)(s)||(0,l.Wi)(f))return o;var u=T(t,.001),c=T(t,k),h=T(n,.001);if(Math.abs(o.xmin-f[0])<h&&Math.abs(o.xmax-f[1])<h){var p=Math.abs(e.xmin-s[0]),m=Math.abs(s[1]-e.xmax);if(p<u&&m>c){o.xmin=f[0];var g=[];g.push(new v.Z(e.xmax,e.ymin,t)),g.push(new v.Z(e.xmax,(e.ymin+e.ymax)/2,t)),g.push(new v.Z(e.xmax,e.ymax,t));var d=g.map((function(e){return _(e,n,r)})).filter((function(e){return!isNaN(null===e||void 0===e?void 0:e.x)})).map((function(e){return e.x}));o.xmax=Math.max.apply(null,d)}if(m<u&&p>c){o.xmax=f[1];var M=[];M.push(new v.Z(e.xmin,e.ymin,t)),M.push(new v.Z(e.xmin,(e.ymin+e.ymax)/2,t)),M.push(new v.Z(e.xmin,e.ymax,t));var w=M.map((function(e){return _(e,n,r)})).filter((function(e){return!isNaN(null===e||void 0===e?void 0:e.x)})).map((function(e){return e.x}));o.xmin=Math.min.apply(null,w)}}else{var R=T(n,.001);Math.abs(o.xmin-f[0])<R&&(o.xmin=f[0]),Math.abs(o.xmax-f[1])<R&&(o.xmax=f[1])}return o}function Y(e){if(!e)return null;var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?20037508.342787:20037508.342788905;return e.isWebMercator?2*n:e.wkid&&e.isGeographic?360:2*w[e.wkid]||null}function V(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.isGeographic)return[-180,180];var r=Y(e,n);return(0,l.pC)(r)?[-r/2,r/2]:null}function q(e,n,r,i){var a=(e-n)/r;return a-Math.floor(a)!=0?a=Math.floor(a):i&&(a-=1),a}function J(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Y(e.spatialReference);if((0,l.Wi)(r))return 0;var i=n?0:-r/2,a=T(e.spatialReference),t=!n&&Math.abs(e.xmax-r/2)<a?r/2:e.xmax,o=!n&&Math.abs(e.xmin+r/2)<a?-r/2:e.xmin;return q(t,i,r,!0)-q(o,i,r,!1)}function D(e){var n=e.storageInfo.origin.x,r=Y(e.spatialReference,!0);if((0,l.Wi)(r))return{originX:n,halfWorldWidth:null,pyramidsInfo:null};for(var i=r/2,a=e.nativePixelSize,t=e.storageInfo,o=e.extent,s=t.maximumPyramidLevel,f=t.blockWidth,u=t.pyramidScalingFactor,c=a.x,h=[],x=(0,l.pC)(e.transform)&&"gcs-shift"===e.transform.type,p=n+(x?0:i),v=x?r-n:i-n,m=0;m<=s;m++){var g=(o.xmax-n)/c/f,d=g-Math.floor(g)==0?g:Math.ceil(g),y=v/c/f,M=y-Math.floor(y)==0?y:Math.ceil(y),w=Math.floor(p/c/f),R=Math.round(p/c)%f,b=(f-Math.round(v/c)%f)%f;h.push({resolutionX:c,blockWidth:f,datsetColumnCount:d,worldColumnCountFromOrigin:M,leftMargin:R,rightPadding:b,originColumnOffset:w}),c*=u}return{originX:n,halfWorldWidth:i,pyramidsInfo:h,hasGCSSShiftTransform:x}}function X(e){var n=e.isAdaptive&&null==e.spacing,r=e.spacing||[R,R],i=K(e),a={cols:i.size[0]+1,rows:i.size[1]+1},t=i.outofBoundPointCount>0&&i.outofBoundPointCount<i.offsets.length/2,s=i.outofBoundPointCount===i.offsets.length/2||n&&t?[0,0]:M(i.offsets,a,r,S),f=(s[0]+s[1])/2,u=e.projectedExtent.spatialReference,c=e.srcBufferExtent.spatialReference;if(n&&(t||f>S)&&(d(u,c,e.datumTransformation)&&(u.isGeographic||(0,l.pC)(L(u))),r=[b,b],a={cols:(i=K((0,o.Z)((0,o.Z)({},e),{},{spacing:r}))).size[0]+1,rows:i.size[1]+1},s=M(i.offsets,a,r,S)),i.error=s,r[0]>1&&(i.coefficients=U(i.offsets,a,t)),e.includeGCSGrid&&!u.isGeographic&&!u.isWebMercator)if(c.isGeographic)i.gcsGrid={offsets:i.offsets,coefficients:i.coefficients,spacing:r};else{var x=L(u);if((0,l.pC)(x)&&!x.isEnvelope){var p=function(e){if(!e||e.isGeographic)return e;var n,r=String(e.wkid||e.wkt);return C.has(r)?n=C.get(r):(n=(e.wkid?h.e.coordsys(e.wkid):h.e.fromString(h.f.PE_TYPE_PROJCS,e.wkt)).getGeogcs().getCode(),C.set(r,n)),new g.Z({wkid:n})}(u),v=I(e.projectedExtent,p),m=K((0,o.Z)((0,o.Z)({},e),{},{srcBufferExtent:v,spacing:r})).offsets,y=U(m,a,t);i.gcsGrid={offsets:m,coefficients:y,spacing:r}}}return i}function K(e){var n,r=e.projectedExtent,i=e.srcBufferExtent,a=e.pixelSize,t=e.datumTransformation,o=e.rasterTransform,s=r.spatialReference,f=i.spatialReference,u=y(s,f),c=r.xmin,h=r.ymin,x=r.xmax,p=r.ymax,m=Y(f),g=(0,l.pC)(m)&&(e.hasWrapAround||"gcs-shift"===(null===o||void 0===o?void 0:o.type)),d=e.spacing||[R,R],M=d[0]*a.x,w=d[1]*a.y,S=1===d[0],P=Math.ceil((x-c)/M-.1/d[0])+(S?0:1),C=Math.ceil((p-h)/w-.1/d[1])+(S?0:1),G=z({cols:P,rows:C,xmin:c,ymax:p,xres:M,yres:w,inSR:s,outSR:f,datumTransformation:t,preferPE:d[0]<=b,usePixelCenter:S}),N=[],E=0,Z=S?-1:NaN,_=i.xmin,W=i.xmax,O=i.ymax,j=i.width,B=i.height,F=T(f,k),I=(0,l.pC)(m)&&_>0&&W>m/2,A=!1;if(u){var V=L(s);A=(0,l.pC)(V)&&V.poleLocation>0}for(var q=0;q<P;q++){for(var J=[],D=0;D<C;D++){var X=G[q*C+D];if(g&&X[0]>W&&X[0]>m/2-F?X[0]-=m:g&&0===q&&X[0]<0&&I&&!o&&(X[0]+=m),!X||isNaN(X[0])||isNaN(X[1]))N.push(Z),N.push(Z),J.push(null),E++;else{if(o){var K=o.inverseTransform(new v.Z({x:X[0],y:X[1],spatialReference:f}));X=[K.x,K.y]}J.push(X),q>0&&g&&n[D]&&X[0]<n[D][0]&&(X[0]+=m,A&&X[0]>W&&X[0]>m&&(X[0]-=m)),N.push((X[0]-_)/j),N.push((O-X[1])/B)}}n=J}return{offsets:N,error:null,coefficients:null,outofBoundPointCount:E,spacing:d,size:S?[P,C]:[P-1,C-1]}}function U(e,n,r){for(var i=n.cols,a=n.rows,t=new Float32Array((i-1)*(a-1)*2*6),o=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),s=new Float32Array([-1,1,0,0,-1,1,1,0,0]),f=0;f<i-1;f++){for(var u=0;u<a-1;u++){for(var l=f*a*2+2*u,c=e[l],h=e[l+1],x=e[l+2],p=e[l+3],v=e[l+=2*a],m=e[l+1],g=e[l+2],d=e[l+3],y=0,M=12*(u*(i-1)+f),w=0;w<3;w++)t[M++]=o[y++]*c+o[y++]*x+o[y++]*g;y=0;for(var R=0;R<3;R++)t[M++]=o[y++]*h+o[y++]*p+o[y++]*d;y=0;for(var b=0;b<3;b++)t[M++]=s[y++]*c+s[y++]*v+s[y++]*g;y=0;for(var S=0;S<3;S++)t[M++]=s[y++]*h+s[y++]*m+s[y++]*d}if(r)for(var P=0;P<t.length;P++)isNaN(t[P])&&(t[P]=-1)}return t}function H(e){var n=e.clone().normalize();return 1===n.length?n[0]:F(n)}function Q(e,n,r){var i=n.storageInfo,a=n.pixelSize,t=0,o=!1,s=i.pyramidResolutions;if((0,l.pC)(s)&&s.length){var f=(e.x+e.y)/2,u=s[s.length-1],h=(u.x+u.y)/2,x=(a.x+a.y)/2;if(f<=x)t=0;else if(f>=h)t=s.length,o=f/h>8;else for(var p,m=x,g=1;g<=s.length;g++){if(f<=(p=(s[g-1].x+s[g-1].y)/2)){f===p?t=g:"down"===r?(t=g-1,o=f/m>8):t="up"===r||f-m>p-f||f/m>2?g:g-1;break}m=p}var d=0===t?a:s[t-1];return o&&Math.min(d.x,d.y)*(0,c.c9)(n.spatialReference)>19567&&(o=!1),{pyramidLevel:t,pyramidResolution:new v.Z({x:d.x,y:d.y,spatialReference:n.spatialReference}),excessiveReading:o}}var y=Math.log(e.x/a.x)/Math.LN2,M=Math.log(e.y/a.y)/Math.LN2,w=n.storageInfo.maximumPyramidLevel||0;(t="down"===r?Math.floor(Math.min(y,M)):"up"===r?Math.ceil(Math.max(y,M)):Math.round((y+M)/2))<0?t=0:t>w&&(o=t>w+3,t=w);var R=Math.pow(2,t);return{pyramidLevel:t,pyramidResolution:new v.Z({x:R*n.nativePixelSize.x,y:R*n.nativePixelSize.y,spatialReference:n.spatialReference}),excessiveReading:o}}function $(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],t=e.extent,o=e.spatialReference,s=e.pixelSize,f=Z(new v.Z({x:s.x,y:s.y,spatialReference:o}),n,t);if(null==f)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};var u=(f.x+f.y)/2,h=(0,c.c9)(n),x=u*h*96*39.37,p=n.isGeographic?256/i*295828763.7958547:256/i*591657527.591555,m="vector-magdir"===e.dataType||"vector-uv"===e.dataType,g=I(t,n),d=Math.min(Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2),Math.ceil(Math.log(p/2/x)/Math.LN2));if(!m&&a&&(n.isGeographic||n.isWebMercator)&&(!(m=g.xmin*g.xmax<0)&&d<3)){var y=Y(n);if((0,l.pC)(y)){var M=Math.pow(2,d)*u*i,w=Math.ceil(y/M);m=1===w||2===w&&y/2-g.xmax<M}}var R,b=x,S=1.001,P=Math.min(2,Math.max(1.414,(null===(r=e.storageInfo)||void 0===r?void 0:r.pyramidScalingFactor)||2));if(m){b=p;var C=n.isGeographic?1341104507446289e-21:.29858214164761665,k=C*(96*h*39.37),G=n.isGeographic?4326:3857;(R=Z(new v.Z({x:C,y:C,spatialReference:{wkid:G}}),o,g)).x*=b/k,R.y*=b/k}else{R={x:s.x,y:s.y};for(var N=0;b<p*(S/2)&&N<d;)N++,b*=P,R.x*=P,R.y*=P;Math.max(b,p)/Math.min(b,p)<=S&&(b=p)}for(var E=[b],T=[{x:R.x,y:R.y}],_=Math.min(70.5310735,x)/S;b>=_;)b/=P,R.x/=P,R.y/=P,E.push(b),T.push({x:R.x,y:R.y});return{projectedPixelSize:f,scales:E,srcResolutions:T,isCustomTilingScheme:!m}}}}]);
//# sourceMappingURL=394.7b728a85.chunk.js.map