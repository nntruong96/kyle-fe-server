"use strict";(self.webpackChunkcommonlands_web=self.webpackChunkcommonlands_web||[]).push([[9836],{46228:function(e,t,r){r.d(t,{I:function(){return i},v:function(){return o}});var n=r(16889);function i(e,t){for(var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=(0,n.uZ)(e,0,l),u=0;u<4;u++)t[i+u]=Math.floor(256*((r=o*a[u])-Math.floor(r)))}function o(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0,n=0;n<4;n++)r+=e[t+n]*u[n];return r}var a=[1,256,65536,16777216],u=[1/256,1/65536,1/16777216,1/4294967296],l=o(new Uint8ClampedArray([255,255,255,255]))},54763:function(e,t,r){r.r(t),r.d(t,{previewCIMSymbol:function(){return v}});var n=r(74165),i=r(15861),o=r(17842),a=r(78915),u=r(94304),l=r(31027),s=r(37817),c=r(69157),h=new u.CIMSymbolRasterizer(null,!0),f=(0,o.Wz)(s.b_.size),d=(0,o.Wz)(s.b_.maxSize),y=(0,o.Wz)(s.b_.lineWidth),m=1;function p(e){var t=null===e||void 0===e?void 0:e.size;return"number"==typeof t?{width:t,height:t}:{width:null!=t&&"object"==typeof t&&"width"in t?t.width:null,height:null!=t&&"object"==typeof t&&"height"in t?t.height:null}}function v(e){return g.apply(this,arguments)}function g(){return g=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,s,v,g,w,b,M,Z,x,G,k,C,S,P,z,F,I,W,O,_,D,L,R,U,j,E=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v=(s=E.length>1&&void 0!==E[1]?E[1]:{}).node,g=s.opacity,w=s.symbolConfig,b="object"==typeof w&&"isSquareFill"in w&&w.isSquareFill,M=s.cimOptions||s,Z=M.geometryType||(0,l.JW)(null===(r=t)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.symbol),x=p(s),G=M.feature,k=M.fieldMap,null!=x.width&&null!=x.height){e.next=17;break}return e.next=5,a.E0.resolveSymbolOverrides(t.data,G,null,k,Z);case 5:if(C=e.sent){e.next=8;break}return e.abrupt("return",null);case 8:if((t=t.clone()).data={type:"CIMSymbolReference",symbol:C},t.data.primitiveOverrides=void 0,S=[],a.B$.fetchResources(C,h.resourceManager,S),e.t0=S.length>0,!e.t0){e.next=15;break}return e.next=15,Promise.all(S);case 15:P=a.B$.getEnvelope(C,null,h.resourceManager),z=null===P||void 0===P?void 0:P.width,F=null===P||void 0===P?void 0:P.height,x.width="esriGeometryPolygon"===Z?f:"esriGeometryPolyline"===Z?y:null!=z&&isFinite(z)?Math.min(z,d):f,x.height="esriGeometryPolygon"===Z?f:null!=F&&isFinite(F)?Math.max(Math.min(F,d),m):f;case 17:return e.next=19,h.rasterizeCIMSymbolAsync(t,G,x,b||"esriGeometryPolygon"!==Z?u.GeometryStyle.Preview:u.GeometryStyle.Legend,k,Z);case 19:if(I=e.sent){e.next=22;break}return e.abrupt("return",null);case 22:return W=I.width,O=I.height,(_=document.createElement("canvas")).width=W,_.height=O,_.getContext("2d").putImageData(I,0,0),D=(0,o.F2)(x.width),L=(0,o.F2)(x.height),(R=new Image(D,L)).src=_.toDataURL(),null!=g&&(R.style.opacity="".concat(g)),U=R,null!=s.effectView&&(j={shape:{type:"image",x:0,y:0,width:D,height:L,src:R.src},fill:null,stroke:null,offset:[0,0]},U=(0,c.wh)([[j]],[D,L],{effectView:s.effectView})),e.abrupt("return",(v&&U&&v.appendChild(U),U));case 30:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}},91935:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(1413),i=r(10064),o=r(32718),a=r(92026),u=r(58971);function l(e,t,r,i,u){if((0,a.Wi)(e))return null;var l=e.referencesGeometry()&&u?c(t,i,u):t,s=e.repurposeFeature(l);try{return e.evaluate((0,n.Z)((0,n.Z)({},r),{},{$feature:s}))}catch(h){return o.Z.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",h),null}}var s=new Map;function c(e,t,r){var a=r.transform,l=r.hasZ,c=r.hasM;s.has(t)||s.set(t,function(e){var t={};switch(e){case"esriGeometryPoint":return function(e,r,n,i){return(0,u.U1)(r,t,e,n,i)};case"esriGeometryPolygon":return function(e,r,n,i){return(0,u.Ie)(r,t,e,n,i)};case"esriGeometryPolyline":return function(e,r,n,i){return(0,u.G6)(r,t,e,n,i)};case"esriGeometryMultipoint":return function(e,r,n,i){return(0,u.J9)(r,t,e,n,i)};default:return o.Z.getLogger("esri.views.2d.support.arcadeOnDemand").error(new i.Z("mapview-arcade","Unable to handle geometryType: ".concat(e))),function(e){return e}}}(t));var h=s.get(t)(e.geometry,a,l,c);return(0,n.Z)((0,n.Z)({},e),{},{geometry:h})}}}]);
//# sourceMappingURL=9836.e487ccfc.chunk.js.map