{"version":3,"file":"static/js/2137.4ae8856c.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/interactive/snapping/candidates/VertexSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/FeatureCollectionSnappingSource.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/queryEngineUtils.js","../node_modules/@arcgis/core/views/interactive/snapping/hints/PointSnappingHint.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{PointConstraint as t}from\"../SnappingConstraint.js\";import{FeatureSnappingCandidate as n}from\"./FeatureSnappingCandidate.js\";import{PointSnappingHint as i}from\"../hints/PointSnappingHint.js\";class r extends n{constructor(n){super({...n,constraint:new t(n.targetPoint)})}get hints(){return[new i(this.targetPoint,this.isDraped,this.domain)]}}export{r as VertexSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{isSome as i,toNullable as r,unwrap as o}from\"../../../../core/maybe.js\";import{throwIfAborted as n,whenOrAbort as a}from\"../../../../core/promiseUtils.js\";import{watch as s,initial as p,on as l}from\"../../../../core/reactiveUtils.js\";import{property as y}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{elevationContextAffectsAlignment as g}from\"../../../../support/elevationInfoUtils.js\";import{makeFilter as u,makeSnappingQuery as h}from\"../snappingUtils.js\";import{convertSnappingCandidate as m,makeGetGroundElevation as d}from\"./queryEngineUtils.js\";import{getSnappingCandidateElevationAligner as v}from\"./snappingCandidateElevationAlignment.js\";import{getSnappingCandidateElevationFilter as S}from\"./snappingCandidateElevationFilter.js\";import{getSymbologySnappingCandidatesFetcher as f}from\"./symbologySnappingCandidates.js\";let w=class extends t{get availability(){return 1}get updating(){return this.layerSource.updating}get _snappingElevationAligner(){const{view:e}=this,{layer:t}=this.layerSource,r=i(e)&&\"3d\"===e.type;if(!r||\"subtype-group\"===t.type)return v();const o=async(i,r)=>(await a(e.whenLayerView(t),r)).elevationAlignPointsInFeatures(i,r);return v(r,{elevationInfo:t.elevationInfo,alignPointsInFeatures:o,spatialReference:e.spatialReference})}get _snappingElevationFilter(){const{view:e}=this,t=i(e)&&\"3d\"===e.type&&\"subtype-group\"!==this.layerSource.layer.type;return S(t)}get _symbologySnappingFetcher(){const{view:e}=this,{layer:t}=this.layerSource;return i(e)&&\"3d\"===e.type&&\"subtype-group\"!==t.type?f(this._symbologySnappingSupported,(async(i,r)=>{const o=await e.whenLayerView(t);return n(r),o.queryForSymbologySnapping({candidates:i,spatialReference:e.spatialReference},r)})):f()}get _symbologySnappingSupported(){return i(this._layerView3D)&&this._layerView3D.symbologySnappingSupported}initialize(){const{view:e}=this,{layer:t}=this.layerSource;i(e)&&\"3d\"===e.type&&\"subtype-group\"!==t.type&&(e.whenLayerView(t).then((e=>this._layerView3D=e)),this.addHandles([e.elevationProvider.on(\"elevation-change\",(({context:e})=>{const{elevationInfo:i}=t;g(e,i)&&this._snappingElevationAligner.notifyElevationSourceChange()})),s((()=>t.elevationInfo),(()=>this._snappingElevationAligner.notifyElevationSourceChange()),p),s((()=>i(this._layerView3D)?this._layerView3D.processor?.renderer:null),(()=>this._symbologySnappingFetcher.notifySymbologyChange()),p),l((()=>r(this._layerView3D)?.layer),[\"edits\",\"apply-edits\",\"graphic-update\"],(()=>this._symbologySnappingFetcher.notifySymbologyChange()))]))}constructor(e){super(e),this.view=null,this._layerView3D=null}refresh(){}async fetchCandidates(e,t){const{layer:i}=this.layerSource,r=i.source;if(!r?.querySnapping)return[];const a=u(i),s=h(e,o(this.view)?.type??\"2d\",a),p=await r.querySnapping(s,{signal:t});n(t);const l=await this._snappingElevationAligner.alignCandidates(p.candidates,t);n(t);const y=await this._symbologySnappingFetcher.fetch(l,t);n(t);const c=0===y.length?l:[...l,...y],g=this._snappingElevationFilter.filter(s,c),d=this._getGroundElevation;return g.map((e=>m(e,d)))}get _getGroundElevation(){return d(this.view)}};e([y({constructOnly:!0})],w.prototype,\"layerSource\",void 0),e([y({constructOnly:!0})],w.prototype,\"view\",void 0),e([y()],w.prototype,\"_snappingElevationAligner\",null),e([y()],w.prototype,\"_snappingElevationFilter\",null),e([y()],w.prototype,\"_symbologySnappingFetcher\",null),e([y()],w.prototype,\"_layerView3D\",void 0),e([y()],w.prototype,\"_symbologySnappingSupported\",null),e([y()],w.prototype,\"_getGroundElevation\",null),w=e([c(\"esri.views.interactive.snapping.featureSources.FeatureCollectionSnappingSource\")],w);export{w as FeatureCollectionSnappingSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{f as t}from\"../../../../chunks/vec3f64.js\";import{asSnappingPoint as n}from\"../SnappingPoint.js\";import{DrapedEdgeSnappingCandidate as r}from\"../candidates/DrapedEdgeSnappingCandidate.js\";import{EdgeSnappingCandidate as a}from\"../candidates/EdgeSnappingCandidate.js\";import{VertexSnappingCandidate as d}from\"../candidates/VertexSnappingCandidate.js\";function o({x:e,y:r,z:a}){return n(t(e,r,a??0))}function i(e,t){switch(e.type){case\"edge\":return e.draped?new r({edgeStart:o(e.start),edgeEnd:o(e.end),targetPoint:o(e.target),objectId:e.objectId,getGroundElevation:t}):new a({edgeStart:o(e.start),edgeEnd:o(e.end),targetPoint:o(e.target),objectId:e.objectId,isDraped:!1});case\"vertex\":return new d({targetPoint:o(e.target),objectId:e.objectId,isDraped:!1})}}function p(t){return e(t)&&\"3d\"===t.type?(e,n,r)=>t.elevationProvider.getElevation(e,n,r??0,t.spatialReference,\"ground\"):()=>null}export{i as convertSnappingCandidate,p as makeGetGroundElevation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{k as t}from\"../../../../chunks/vec3.js\";import{SnappingHint as s}from\"./SnappingHint.js\";class n extends s{constructor(t,s,n){super(s,n),this.point=t}equals(s){return s instanceof n&&t(this.point,s.point)}}export{n as PointSnappingHint};\n"],"names":["r","_n","_inherits","_super","_createSuper","n","_classCallCheck","call","_objectSpread","constraint","t","targetPoint","_createClass","key","get","i","this","isDraped","domain","w","_t","e","_this","view","_layerView3D","layerSource","updating","layer","type","v","o","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","a","whenLayerView","abrupt","sent","elevationAlignPointsInFeatures","stop","_x","_x2","apply","arguments","elevationInfo","alignPointsInFeatures","spatialReference","S","f","_symbologySnappingSupported","_ref2","_callee2","_context2","queryForSymbologySnapping","candidates","_x3","_x4","symbologySnappingSupported","value","_this2","then","addHandles","elevationProvider","on","_ref3","context","g","_snappingElevationAligner","notifyElevationSourceChange","s","p","_this2$_layerView3D$p","processor","renderer","_symbologySnappingFetcher","notifySymbologyChange","l","_r","_fetchCandidates","_callee3","_o$type","_o","y","c","d","_context3","source","querySnapping","u","h","signal","alignCandidates","fetch","length","concat","_toConsumableArray","_snappingElevationFilter","filter","_getGroundElevation","map","m","_x5","_x6","constructOnly","prototype","x","z","draped","edgeStart","start","edgeEnd","end","target","objectId","getGroundElevation","getElevation","_s","point"],"sourceRoot":""}