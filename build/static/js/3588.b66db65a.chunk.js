"use strict";(self.webpackChunkcommonlands_web=self.webpackChunkcommonlands_web||[]).push([[3588],{96669:function(e,t,n){function i(e,t){return t?"xoffset"in t&&t.xoffset?Math.max(e,Math.abs(t.xoffset)):"yoffset"in t&&t.yoffset?Math.max(e,Math.abs(t.yoffset||0)):e:e}function r(e,t){return"number"==typeof e?e:e&&e.stops&&e.stops.length?function(e){for(var t=0,n=0,i=0;i<e.length;i++){var r=e[i].size;"number"==typeof r&&(t+=r,n++)}return t/n}(e.stops):t}function a(e,t){if(!t)return e;var n=t.filter((function(e){return"size"===e.type})).map((function(t){var n=t.maxSize,i=t.minSize;return(r(n,e)+r(i,e))/2})),i=0,a=n.length;if(0===a)return e;for(var o=0;o<a;o++)i+=n[o];var l=Math.floor(i/a);return Math.max(l,e)}function o(e){var t=e&&e.renderer,n="touch"===(e&&e.event&&e.event.pointerType)?9:6;if(!t)return n;var r="visualVariables"in t?a(n,t.visualVariables):n;if("simple"===t.type)return i(r,t.symbol);if("unique-value"===t.type){var o,l=r;return null!==(o=t.uniqueValueInfos)&&void 0!==o&&o.forEach((function(e){l=i(l,e.symbol)})),l}if("class-breaks"===t.type){var s=r;return t.classBreakInfos.forEach((function(e){s=i(s,e.symbol)})),s}return"dot-density"===t.type||t.type,r}n.d(t,{k:function(){return o}})},20008:function(e,t,n){n.d(t,{Ru:function(){return y},bA:function(){return c},cM:function(){return f},e7:function(){return u},pB:function(){return s}});var i=n(29439),r=n(16889),a=n(65156),o=n(376),l=n(69662);function s(e,t,n,i){var r,a;if(null==i||e.hasZ||(i=void 0),"point"===e.type)return e.x+=t,e.y+=n,e.hasZ&&null!=i&&(e.z+=i),e;if("multipoint"===e.type){for(var o=e.points,s=0;s<o.length;s++)o[s]=h(o[s],t,n,i);return e}if("extent"===e.type)return e.xmin+=t,e.xmax+=t,e.ymin+=n,e.ymax+=n,null!=i&&(null!==(r=e.zmin)&&void 0!==r||(e.zmin=0),e.zmin+=i,null!==(a=e.zmax)&&void 0!==a||(e.zmax=0),e.zmax+=i),e;for(var u=(0,l.nA)(e),c="polyline"===e.type?e.paths:e.rings,y=0;y<u.length;y++)for(var f=u[y],p=0;p<f.length;p++)f[p]=h(f[p],t,n,i);return"paths"in e?e.paths=c:e.rings=c,e}function u(e,t,n,i,r){var a=e.clone(),o=i.resolution;if("point"===a.type){if(r)s(a,t*o,-n*o);else{var u=i.state.transform,c=i.state.inverseTransform,y=u[0]*a.x+u[2]*a.y+u[4],f=u[1]*a.x+u[3]*a.y+u[5];a.x=c[0]*(y+t)+c[2]*(f+n)+c[4],a.y=c[1]*(y+t)+c[3]*(f+n)+c[5]}return a}if("multipoint"===a.type){if(r)s(a,t*o,-n*o);else for(var h=a.points,m=i.state.transform,v=i.state.inverseTransform,b=0;b<h.length;b++){var d=h[b],g=m[0]*d[0]+m[2]*d[1]+m[4],x=m[1]*d[0]+m[3]*d[1]+m[5],_=v[0]*(g+t)+v[2]*(x+n)+v[4],C=v[1]*(g+t)+v[3]*(x+n)+v[5];h[b]=p(d,_,C,void 0)}return a}if("extent"===a.type){if(r)s(a,t*o,-n*o);else{var S=i.state.transform,k=i.state.inverseTransform,M=S[0]*a.xmin+S[2]*a.ymin+S[4],z=S[1]*a.xmin+S[3]*a.ymin+S[5],Z=S[0]*a.xmax+S[2]*a.ymax+S[4],w=S[1]*a.xmax+S[3]*a.ymax+S[5];a.xmin=k[0]*(M+t)+k[2]*(z+n)+k[4],a.ymin=k[1]*(M+t)+k[3]*(z+n)+k[5],a.xmax=k[0]*(Z+t)+k[2]*(w+n)+k[4],a.ymax=k[1]*(Z+t)+k[3]*(w+n)+k[5]}return a}if(r)s(a,t*o,-n*o);else{for(var P=(0,l.nA)(a),D="polyline"===a.type?a.paths:a.rings,G=i.state.transform,I=i.state.inverseTransform,R=0;R<P.length;R++)for(var F=P[R],V=0;V<F.length;V++){var q=F[V],E=G[0]*q[0]+G[2]*q[1]+G[4],A=G[1]*q[0]+G[3]*q[1]+G[5],H=I[0]*(E+t)+I[2]*(A+n)+I[4],L=I[1]*(E+t)+I[3]*(A+n)+I[5];F[V]=p(q,H,L,void 0)}"paths"in a?a.paths=D:a.rings=D}return a}function c(e,t,n,r){if("point"===e.type){var s=e.x,u=e.y,c=r?r[0]:s,y=r?r[1]:u,f=e.clone(),h=(s-c)*t+c,m=(u-y)*n+y;return f.x=h,f.y=m,f}if("multipoint"===e.type){for(var v=(0,l.nA)(e),b=(0,a.Ue)(),d=(0,o.C6)(b,[v]),g=(0,i.Z)(d,4),x=g[0],_=g[1],C=g[2],S=g[3],k=r?r[0]:(x+C)/2,M=r?r[1]:(S+_)/2,z=e.clone(),Z=z.points,w=0;w<Z.length;w++){var P=Z[w],D=(0,i.Z)(P,2),G=(D[0]-k)*t+k,I=(D[1]-M)*n+M;Z[w]=p(P,G,I,void 0)}return z}if("extent"===e.type){var R=e.xmin,F=e.xmax,V=e.ymin,q=e.ymax,E=r?r[0]:(R+F)/2,A=r?r[1]:(q+V)/2,H=e.clone();if(H.xmin=(R-E)*t+E,H.ymax=(q-A)*n+A,H.xmax=(F-E)*t+E,H.ymin=(V-A)*n+A,H.xmin>H.xmax){var L=H.xmin,T=H.xmax;H.xmin=T,H.xmax=L}if(H.ymin>H.ymax){var U=H.ymin,W=H.ymax;H.ymin=W,H.ymax=U}return H}for(var Y=(0,l.nA)(e),B=(0,a.Ue)(),O=(0,o.C6)(B,Y),X=(0,i.Z)(O,4),j=X[0],K=X[1],N=X[2],J=X[3],Q=r?r[0]:(j+N)/2,$=r?r[1]:(J+K)/2,ee=e.clone(),te="polyline"===ee.type?ee.paths:ee.rings,ne=0;ne<Y.length;ne++)for(var ie=Y[ne],re=0;re<ie.length;re++){var ae=ie[re],oe=(0,i.Z)(ae,2),le=(oe[0]-Q)*t+Q,se=(oe[1]-$)*n+$;te[ne][re]=p(ae,le,se,void 0)}return"paths"in ee?ee.paths=te:ee.rings=te,ee}function y(e,t,n,i,r,a){var o=Math.sqrt((n-e)*(n-e)+(i-t)*(i-t));return Math.sqrt((r-e)*(r-e)+(a-t)*(a-t))/o}function f(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Math.atan2(t.y-n.y,t.x-n.x)-Math.atan2(e.y-n.y,e.x-n.x),o=Math.atan2(Math.sin(a),Math.cos(a));return i?o:(0,r.BV)(o)}function h(e,t,n,i){return p(e,e[0]+t,e[1]+n,null!=e[2]&&null!=i?e[2]+i:void 0)}function p(e,t,n,i){var r=[t,n];return e.length>2&&r.push(null!=i?i:e[2]),e.length>3&&r.push(e[3]),r}},2346:function(e,t,n){n.d(t,{L:function(){return k}});var i=n(15671),r=n(43144),a=n(60136),o=n(29388),l=n(27366),s=n(85015),u=n(91505),c=n(92026),y=n(94172),f=n(17842),h=n(49861),p=(n(25243),n(63780),n(69912)),m=n(88396),v=n(11186),b=n(71353),d=n(79803),g=n(74509),x=n(61574),_=n(64575),C=n(90297),S=n(45008),k=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).layer=null,r.interactive=!0,r.selectable=!1,r.grabbable=!0,r.dragging=!1,r.cursor=null,r.events=new u.Z.EventEmitter,r._circleCollisionCache=null,r._graphicSymbolChangedHandle=null,r._originalSymbol=null,r}return(0,r.Z)(n,[{key:"graphic",set:function(e){this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set("graphic",e),this.attachSymbolChanged()}},{key:"elevationInfo",get:function(){var e=this.graphic.layer,t=e&&"elevationInfo"in e?e.elevationInfo:null,n=(0,g.vu)(this.graphic),i=t?t.offset:0;return new _.Z({mode:n,offset:i})}},{key:"focusedSymbol",set:function(e){e!==this._get("focusedSymbol")&&(this._set("focusedSymbol",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}},{key:"grabbableForEvent",value:function(){return!0}},{key:"grabbing",set:function(e){e!==this._get("grabbing")&&(this._set("grabbing",e),this._updateGraphicSymbol())}},{key:"hovering",set:function(e){e!==this._get("hovering")&&(this._set("hovering",e),this._updateGraphicSymbol())}},{key:"selected",set:function(e){e!==this._get("selected")&&(this._set("selected",e),this._updateGraphicSymbol(),this.events.emit("select-changed",{action:e?"select":"deselect"}))}},{key:"_focused",get:function(){return this._get("hovering")||this._get("grabbing")}},{key:"destroy",value:function(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set("view",null)}},{key:"intersectionDistance",value:function(e){var t=this.graphic;if(!1===t.visible)return null;var n=t.geometry;if((0,c.Wi)(n))return null;var i=this._get("focusedSymbol"),r=(0,c.pC)(i)?i:t.symbol;return"2d"===this.view.type?this._intersectDistance2D(this.view,e,n,r):this._intersectDistance3D(this.view,e,t)}},{key:"attach",value:function(){this.attachSymbolChanged(),(0,c.pC)(this.layer)&&this.layer.add(this.graphic)}},{key:"detach",value:function(){this.detachSymbolChanged(),this._resetGraphicSymbol(),(0,c.pC)(this.layer)&&this.layer.remove(this.graphic)}},{key:"attachSymbolChanged",value:function(){var e=this;this.detachSymbolChanged(),this._graphicSymbolChangedHandle=(0,y.YP)((function(){var t;return null===(t=e.graphic)||void 0===t?void 0:t.symbol}),(function(t){(0,c.pC)(t)&&t!==e.focusedSymbol&&t!==e._originalSymbol&&(e._originalSymbol=t,e._focused&&(0,c.pC)(e.focusedSymbol)&&(e.graphic.symbol=e.focusedSymbol))}),y.Z_)}},{key:"detachSymbolChanged",value:function(){(0,c.pC)(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}},{key:"onElevationChange",value:function(){}},{key:"onViewChange",value:function(){}},{key:"_updateGraphicSymbol",value:function(){this.graphic.symbol=this._focused&&(0,c.pC)(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}},{key:"_resetGraphicSymbol",value:function(){this.graphic.symbol=this._originalSymbol}},{key:"_intersectDistance2D",value:function(e,t,n,i){var r;if(i=i||(0,x.js)(n),(0,c.Wi)(i))return null;var a=this._circleCollisionCache;if("point"===n.type&&"cim"===i.type&&"CIMPointSymbol"===(null===(r=i.data.symbol)||void 0===r?void 0:r.type)&&i.data.symbol.symbolLayers){var o=(0,C.i)(i),l=o.offsetX,s=o.offsetY,u=o.size,y=(0,f.md)(t,z),h=u/2,p=e.toScreen(n),v=p.x+l,b=p.y+s;return(0,m.k)(y,[v,b])<h*h?1:null}if("point"!==n.type||"simple-marker"!==i.type)return(0,S.D)(t,n,e)?1:null;if((0,c.Wi)(a)||!a.originalPoint.equals(n)){var g=n,_=e.spatialReference;if((0,d.Up)(g.spatialReference,_)){var k=(0,d.iV)(g,_);a={originalPoint:g.clone(),mapPoint:k,radiusPx:(0,f.F2)(i.size)},this._circleCollisionCache=a}}if((0,c.pC)(a)){var M,Z=(0,f.md)(t,z),w=null===(M=e.toScreen)||void 0===M?void 0:M.call(e,a.mapPoint);if(!w)return null;var P=a.radiusPx,D=w.x+(0,f.F2)(i.xoffset),G=w.y-(0,f.F2)(i.yoffset);return(0,m.k)(Z,[D,G])<P*P?1:null}return null}},{key:"_intersectDistance3D",value:function(e,t,n){var i=e.toMap(t,{include:[n]});return i&&(0,d.KC)(i,M,e.renderSpatialReference)?(0,v.i)(M,e.state.camera.eye):null}}]),n}(s.Z);(0,l._)([(0,h.Cb)({constructOnly:!0,nonNullable:!0})],k.prototype,"graphic",null),(0,l._)([(0,h.Cb)()],k.prototype,"elevationInfo",null),(0,l._)([(0,h.Cb)({constructOnly:!0,nonNullable:!0})],k.prototype,"view",void 0),(0,l._)([(0,h.Cb)({value:null})],k.prototype,"focusedSymbol",null),(0,l._)([(0,h.Cb)({constructOnly:!0})],k.prototype,"layer",void 0),(0,l._)([(0,h.Cb)()],k.prototype,"interactive",void 0),(0,l._)([(0,h.Cb)()],k.prototype,"selectable",void 0),(0,l._)([(0,h.Cb)()],k.prototype,"grabbable",void 0),(0,l._)([(0,h.Cb)({value:!1})],k.prototype,"grabbing",null),(0,l._)([(0,h.Cb)()],k.prototype,"dragging",void 0),(0,l._)([(0,h.Cb)()],k.prototype,"hovering",null),(0,l._)([(0,h.Cb)({value:!1})],k.prototype,"selected",null),(0,l._)([(0,h.Cb)()],k.prototype,"cursor",void 0),k=(0,l._)([(0,p.j)("esri.views.interactive.GraphicManipulator")],k);var M=(0,b.c)(),z=(0,f.s1)()},90297:function(e,t,n){n.d(t,{i:function(){return a}});var i=n(92026),r=n(17842);function a(e){var t=0,n=0,a=0;return e?("cim"===e.type&&e.data.symbol&&"symbolLayers"in e.data.symbol&&e.data.symbol.symbolLayers&&e.data.symbol.symbolLayers.map((function(e){"CIMVectorMarker"===e.type&&e.anchorPoint&&(Math.abs(e.anchorPoint.x)>t&&(t=e.anchorPoint.x),Math.abs(e.anchorPoint.y)>n&&(n=e.anchorPoint.y),(0,i.pC)(e.size)&&e.size>a&&(a=e.size))})),t=(0,r.F2)(t),n=(0,r.F2)(n),a=(0,r.F2)(a),{offsetX:t,offsetY:n,size:a}):{offsetX:t,offsetY:n,size:a}}},45008:function(e,t,n){n.d(t,{D:function(){return s},K:function(){return l}});n(59486);var i=n(92026),r=n(68860),a=n(96669),o=n(53866);function l(e,t,n){var a,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new o.Z,s=0;if("2d"===n.type)s=t*(null!==(a=n.resolution)&&void 0!==a?a:0);else if("3d"===n.type){var u=n.overlayPixelSizeInMapUnits(e),c=n.basemapSpatialReference;s=(0,i.pC)(c)&&!c.equals(n.spatialReference)?(0,r.c9)(c)/(0,r.c9)(n.spatialReference):t*u}var y=e.x-s,f=e.y-s,h=e.x+s,p=e.y+s,m=n.spatialReference;return l.xmin=Math.min(y,h),l.ymin=Math.min(f,p),l.xmax=Math.max(y,h),l.ymax=Math.max(f,p),l.spatialReference=m,l}function s(e,t,n){var r=n.toMap(e);return!(0,i.Wi)(r)&&l(r,(0,a.k)(),n,u).intersects(t)}var u=new o.Z}}]);
//# sourceMappingURL=3588.b66db65a.chunk.js.map